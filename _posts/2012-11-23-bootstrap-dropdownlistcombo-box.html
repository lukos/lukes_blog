---
layout: post
title: Bootstrap dropdownlist/combo box
date: '2012-11-23T04:39:00.001-08:00'
author: Luke Briner
tags:
modified_time: '2012-11-23T04:39:05.374-08:00'
thumbnail: http://4.bp.blogspot.com/-elGd6hgRSrk/UK9ssuq6LbI/AAAAAAAAAfg/Nbn0zPVvFRA/s72-c/Capture.PNG
---

Styling some web controls is not possible in the browser since they are drawn by the operating system. One such beast is the combo box a.k.a. the dropdownlist. What we want is the means to select something from a list which is then put into a text box and which can, optionally, allow you to free type something else. Something a bit like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-elGd6hgRSrk/UK9ssuq6LbI/AAAAAAAAAfg/Nbn0zPVvFRA/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="78" src="http://4.bp.blogspot.com/-elGd6hgRSrk/UK9ssuq6LbI/AAAAAAAAAfg/Nbn0zPVvFRA/s320/Capture.PNG" width="320" /></a></div><br />It looks quite simple in bootstrap but again, it is hard to make it behave in a way that plays nice with server side code. The way I got it to play was the following:<br /><pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>&lt;div class="dropdown"&gt;<br />            &lt;div class="input-append"&gt;<br />                &lt;input type="text" class="dropdown-toggle input-xlarge" data-toggle="dropdown" id="requiredPackage" runat="server" /&gt;<br />                &lt;span class="add-on dropdown-toggle" data-toggle="dropdown"&gt;&lt;i class="icon-chevron-down"&gt;&lt;/i&gt;&lt;/span&gt;<br />                &lt;ul class="dropdown-menu" role="menu" id="packageMenu"&gt;<br />                &lt;li&gt;&lt;a href="#" data-value="5"&gt;Free (50 users, 100 logins) free&lt;/a&gt;&lt;/li&gt;<br />                &lt;li&gt;&lt;a href="#" data-value="1"&gt;Basic (200 users, 1000 logins) £5/month&lt;/a&gt;&lt;/li&gt;<br />                &lt;li&gt;&lt;a href="#" data-value="2"&gt;Mid-size (500 users, 5000 logins) £10/month&lt;/a&gt;&lt;/li&gt;<br />                &lt;li&gt;&lt;a href="#" data-value="3"&gt;Large (1000 users, 10000 logins) £15/month&lt;/a&gt;&lt;/li&gt;<br />                &lt;li&gt;&lt;a href="#" data-value="4"&gt;Enterprise (5000 users, 50000 logins) £25/month&lt;/a&gt;&lt;/li&gt;<br />            &lt;/ul&gt;<br />            &lt;/div&gt;<br />            <br />        &lt;/div&gt;<br /></code></pre><br />I used a plain input with a runat server tag. This might have worked with a standard asp:TextBox but I ended up with this. I then added an asp:HiddenField that would allow me to set something on the client side and then read this on the server side. In fact, I wanted the data-value of the selection rather than the description of the selected item. data- is a way of adding customised attributes which can easily be read by Javascript. In this case, I used jQuery to handle the selection of any of the li items and then put the description into the text box and the value into the hidden field like this:<br /><pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>&lt;script type="text/javascript"&gt;<br />        $(function ()<br />        {<br />            $('#packageMenu a').on('click', function (event)<br />            {<br />                $('#MainContent_requiredPackage').val($(this).text());<br />                $('#MainContent_selectedPackage').val($(this).data('value'));<br />            });<br />        });<br />    &lt;/script&gt;<br /></code></pre><br />A few notes on this. By using jQuery 'on' function, I can apply the handler to a group of elements, in this case all the li elements (the a tags) that live under the packageMenu element. I then put the text of the element into the text box and use jQuery data(<key>) function to retrieve data-value and put this into the hidden field. This script is simply put at the bottom of the HTML page and is wired up to jQuery 'ready' function using the standard format.</key>